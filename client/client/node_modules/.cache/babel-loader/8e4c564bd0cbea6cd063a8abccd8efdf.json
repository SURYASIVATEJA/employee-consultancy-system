{"ast":null,"code":"import _slicedToArray from\"C:/Users/surya/OneDrive/Pictures/Camera Roll/MSWD/employee consultancy system/client/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import ReactDOM from\"react-dom\";import{Route}from'react-router-dom';import{Routes}from'react-router-dom';import Signed from\"./component/Signed\";import\"./App.css\";import ProfilePage from\"./component/ProfilePage\";import RegistrationPage from\"./component/RegistrationPage\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/RegistrationForm\",element:/*#__PURE__*/_jsx(RegistrationPage,{})})});// React States\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),errorMessages=_useState2[0],setErrorMessages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmitted=_useState4[0],setIsSubmitted=_useState4[1];var errors={uname:\"invalid username\",pass:\"invalid password\"};var handleSubmit=function handleSubmit(event){//Prevent page reload\nevent.preventDefault();var _document$forms$=document.forms[0],uname=_document$forms$.uname,pass=_document$forms$.pass;// Find user login info\naxios.post(\"/login\",{name:uname.value}).then(function(response){if(response.data[0].password===pass.value){setIsSubmitted(true);sessionStorage.setItem(\"loggedUser\",JSON.stringify(response.data[0]));//window.location = \"/Signed\"\n}else{setErrorMessages({name:\"pass\",message:errors.pass});}});var database=JSON.parse(sessionStorage.getItem(\"users\"))['users'];var userData=database.find(function(user){return user.username===uname.value;});// Compare user info\n// if (userData) {\n//   if (userData.password !== pass.value) {\n//     // Invalid password\n//     setErrorMessages({ name: \"pass\", message: errors.pass });\n//   } else {\n//     setIsSubmitted(true);\n//     console.log(userData)\n//     sessionStorage.setItem(\"loggedUser\",JSON.stringify(userData))\n//     window.location = \"/Signed\"\n//   }\n// } else {\n//   // Username not found\n//   setErrorMessages({ name: \"uname\", message: errors.uname });\n// }\n};// Generate JSX code for error message\nvar renderErrorMessage=function renderErrorMessage(name){return name===errorMessages.name&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessages.message});};// JSX code for login form\nvar renderForm=/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"uname\",required:true}),renderErrorMessage(\"uname\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pass\",required:true}),renderErrorMessage(\"pass\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/RegistrationForm\",children:\"Signup\"})]})});if(sessionStorage.getItem(\"loggedUser\")!=null&&window.location.href===\"http://localhost:\"+window.location.port+\"/logout\"){sessionStorage.clear();window.location=\"/\";}// if(sessionStorage.getItem(\"loggedUser\") != null && window.location.href===\"http://localhost:\"+window.location.port+\"/Signed\"){\n//   console.log(\"signed\");\n//   return(\n//   <Signed></Signed>)\n// }\nelse if(window.location.href===\"http://localhost:\"+window.location.port+\"/RegistrationForm\"){console.log(window.location.port);return/*#__PURE__*/_jsx(RegistrationPage,{});}else if(sessionStorage.getItem(\"loggedUser\")===null){return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form\",children:renderForm})});}else if(sessionStorage.getItem(\"loggedUser\")!=null){return/*#__PURE__*/_jsx(Signed,{});}// else{\n//   return(\n//     <div>\n//     <div>hello</div>\n//     <Routes>\n//       <Route path= 'Signed' element={<Signed/>} />\n//     </Routes>\n//     </div>\n//   )\n// }\n}export default App;","map":{"version":3,"names":["React","useState","ReactDOM","Route","Routes","Signed","ProfilePage","RegistrationPage","axios","App","errorMessages","setErrorMessages","isSubmitted","setIsSubmitted","errors","uname","pass","handleSubmit","event","preventDefault","document","forms","post","name","value","then","response","data","password","sessionStorage","setItem","JSON","stringify","message","database","parse","getItem","userData","find","user","username","renderErrorMessage","renderForm","window","location","href","port","clear","console","log"],"sources":["C:/Users/surya/OneDrive/Pictures/Camera Roll/MSWD/employee consultancy system/client/client/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {Route} from 'react-router-dom';\nimport {Routes} from 'react-router-dom';\nimport Signed from \"./component/Signed\";\n\nimport \"./App.css\";\nimport ProfilePage from \"./component/ProfilePage\";\nimport RegistrationPage from \"./component/RegistrationPage\";\nimport axios from \"axios\";\n\n\nfunction App() {\n  <Routes>\n     <Route path='/RegistrationForm' element={<RegistrationPage/>}/>\n  </Routes>\n  // React States\n  const [errorMessages, setErrorMessages] = useState({});\n  const [isSubmitted, setIsSubmitted] = useState(false);\n\n\n\n  const errors = {\n    uname: \"invalid username\",\n    pass: \"invalid password\"\n  };\n\n  const handleSubmit = (event) => {\n    //Prevent page reload\n    event.preventDefault();\n\n    var { uname, pass } = document.forms[0];\n\n    // Find user login info\n    axios.post(\"/login\",{name:uname.value}).then((response)=>{\n      if(response.data[0].password === pass.value) {\n        setIsSubmitted(true);\n        sessionStorage.setItem(\"loggedUser\",JSON.stringify(response.data[0]))\n        //window.location = \"/Signed\"\n\n      }\n      else {\n        setErrorMessages({ name: \"pass\", message: errors.pass });\n      }\n    })\n    const database = JSON.parse(sessionStorage.getItem(\"users\"))['users']\n    const userData = database.find((user) => user.username === uname.value);\n\n    // Compare user info\n    // if (userData) {\n    //   if (userData.password !== pass.value) {\n    //     // Invalid password\n    //     setErrorMessages({ name: \"pass\", message: errors.pass });\n    //   } else {\n    //     setIsSubmitted(true);\n    //     console.log(userData)\n    //     sessionStorage.setItem(\"loggedUser\",JSON.stringify(userData))\n    //     window.location = \"/Signed\"\n    //   }\n    // } else {\n    //   // Username not found\n    //   setErrorMessages({ name: \"uname\", message: errors.uname });\n    // }\n  };\n\n  // Generate JSX code for error message\n  const renderErrorMessage = (name) =>\n    name === errorMessages.name && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  // JSX code for login form\n  const renderForm = (\n    <div className=\"form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-container\">\n          <label>Username </label>\n          <input type=\"text\" name=\"uname\" required />\n          {renderErrorMessage(\"uname\")}\n        </div>\n        <div className=\"input-container\">\n          <label>Password </label>\n          <input type=\"password\" name=\"pass\" required />\n          {renderErrorMessage(\"pass\")}\n        </div>\n        <div className=\"button-container\">\n          <input type=\"submit\" />\n        </div>\n        <a href=\"/RegistrationForm\">Signup</a>\n      </form>\n    </div>  \n  );\n  if(sessionStorage.getItem(\"loggedUser\") != null && window.location.href===\"http://localhost:\"+window.location.port+\"/logout\"){\n    sessionStorage.clear()\n    window.location = \"/\"\n  }\n  // if(sessionStorage.getItem(\"loggedUser\") != null && window.location.href===\"http://localhost:\"+window.location.port+\"/Signed\"){\n  //   console.log(\"signed\");\n  //   return(\n  //   <Signed></Signed>)\n  // }\n  else if (window.location.href===\"http://localhost:\"+window.location.port+\"/RegistrationForm\"){\n    console.log(window.location.port)\n    return(<RegistrationPage></RegistrationPage>)\n  }\n  else if(sessionStorage.getItem(\"loggedUser\") === null){\n  return (\n    <div className=\"app\">\n      <div className=\"login-form\">\n        {renderForm}\n        \n      </div>\n    </div>\n  );\n  }\n  else if(sessionStorage.getItem(\"loggedUser\") !=null) {\n    return(\n      <Signed></Signed>)\n  }\n\n  // else{\n  //   return(\n  //     <div>\n  //     <div>hello</div>\n  //     <Routes>\n  //       <Route path= 'Signed' element={<Signed/>} />\n  //     </Routes>\n  //     </div>\n  //   )\n  // }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}